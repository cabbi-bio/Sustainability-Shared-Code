#!/bin/bash
##############################################################################
# ESGF wget download script
#
# Template version: 0.4
# Generated by nimbus.llnl.gov - 2025/07/01 22:07:22
# Search URL: http://nimbus.llnl.gov/wget
# Request method: POST
# 
###############################################################################
# first be sure it's bash... anything out of bash or sh will break
# and the test will assure we are not using sh instead of bash
if [ $BASH ] && [ `basename $BASH` != bash ]; then
    echo "######## This is a bash script! ##############" 
    echo "Change the execution bit 'chmod u+x $0' or start with 'bash $0' instead of sh."
    echo "Trying to recover automatically..."
    sleep 1
    /bin/bash $0 $@
    exit $?
fi

version=0.4
CACHE_FILE=.$(basename $0).status
search_url='http://nimbus.llnl.gov/wget'
request_method='POST'
url_params=(
    '[&#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.hurs.gn.v20200528|esgf-node.ornl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.pr.gn.v20200528|esgf-data1.llnl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.sfcWind.gn.v20200528|esgf-data1.llnl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.hurs.gn.v20200528|esgf-data.ucar.edu&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.hurs.gn.v20200528|esgf-data1.llnl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.sfcWind.gn.v20200528|esgf-node.ornl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.tasmax.gn.v20200528|esgf-node.ornl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.tasmin.gn.v20200528|esgf-node.ornl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.rsds.gn.v20200528|esgf-data.ucar.edu&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.pr.gn.v20200528|esgf-data.ucar.edu&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.tasmax.gn.v20200528|esgf-data.ucar.edu&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.tasmin.gn.v20200528|esgf-node.ornl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.hurs.gn.v20200528|esgf-data.ucar.edu&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.rsds.gn.v20200528|esgf-data1.llnl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.pr.gn.v20200528|esgf-node.ornl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.hurs.gn.v20200528|esgf-node.ornl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.tasmax.gn.v20200528|esgf-data1.llnl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.sfcWind.gn.v20200528|esgf-data.ucar.edu&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.tasmax.gn.v20200528|esgf-data.ucar.edu&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.tasmin.gn.v20200528|esgf-data1.llnl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.rsds.gn.v20200528|esgf-node.ornl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.rsds.gn.v20200528|esgf-data.ucar.edu&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.rsds.gn.v20200528|esgf-node.ornl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.tasmax.gn.v20200528|esgf-data1.llnl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.pr.gn.v20200528|esgf-data.ucar.edu&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.sfcWind.gn.v20200528|esgf-data.ucar.edu&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.tasmin.gn.v20200528|esgf-data1.llnl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.pr.gn.v20200528|esgf-node.ornl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.tasmin.gn.v20200528|esgf-data.ucar.edu&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.hurs.gn.v20200528|esgf-data1.llnl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.pr.gn.v20200528|esgf-data04.diasjp.net&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.pr.gn.v20200528|esgf-data1.llnl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.tasmin.gn.v20200528|esgf-data.ucar.edu&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.rsds.gn.v20200528|esgf-data1.llnl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp245.r10i1p1f1.day.sfcWind.gn.v20200528|esgf-data1.llnl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.sfcWind.gn.v20200528|esgf-node.ornl.gov&#x27;, &#x27;CMIP6.ScenarioMIP.NCAR.CESM2.ssp585.r10i1p1f1.day.tasmax.gn.v20200528|esgf-node.ornl.gov&#x27;]'
)

#These are the embedded files to be downloaded
download_files="$(cat <<EOF--dataset.file.url.chksum_type.chksum
'hurs_day_CESM2_ssp245_r10i1p1f1_gn_20850101-20941231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp245_r10i1p1f1_gn_20850101-20941231.nc' 'SHA256' 'e48ab38f735ad36e45bd44902eb6d4abd5dd3f83bff7dffbaf5b3a32f7b1337c'
'pr_day_CESM2_ssp245_r10i1p1f1_gn_20350101-20441231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp245_r10i1p1f1_gn_20350101-20441231.nc' 'SHA256' 'dd86cc2da2343c89b4ef9a3514af3e5f287727599410955728286d2860eca148'
'rsds_day_CESM2_ssp245_r10i1p1f1_gn_20350101-20441231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp245_r10i1p1f1_gn_20350101-20441231.nc' 'SHA256' '13f07cd83911105856f3c704d16f1fee5f71017ef410b22ca87500374e79b1c4'
'rsds_day_CESM2_ssp245_r10i1p1f1_gn_20850101-20941231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp245_r10i1p1f1_gn_20850101-20941231.nc' 'SHA256' 'd29441a40c939d34ca70add30e94e5ea393fd57ea82f4975faf13530cc6c50d9'
'hurs_day_CESM2_ssp585_r10i1p1f1_gn_20950101-21010101.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp585_r10i1p1f1_gn_20950101-21010101.nc' 'SHA256' '73565bc4601a995f19573a3dd9b433179fb62fc8125360daa0eea3a9c703dae1'
'rsds_day_CESM2_ssp585_r10i1p1f1_gn_20550101-20641231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp585_r10i1p1f1_gn_20550101-20641231.nc' 'SHA256' '332744a85e9065fa45b455116c630304bc0c60c67161d962cf09ac2ff46b586d'
'sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20250101-20341231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20250101-20341231.nc' 'SHA256' 'dd8cfba4ac3a6ce7e8aa6eba651438955926545a93915eb60e2ce4b39b9d8014'
'sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20850101-20941231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20850101-20941231.nc' 'SHA256' '7ff559d80d1932993fc403c2252739686b8d10017d585922c5dcbdd364fafe9f'
'tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20450101-20541231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20450101-20541231.nc' 'SHA256' '14b0e890087a270d48a20df71a8c231f1ad86a68b30ab87b85c7d42774a7c1e2'
'tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20550101-20641231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20550101-20641231.nc' 'SHA256' 'e7ba4a38f62fb2ed7bb9dbb4e81368d427f5fc3294cbdcad527ea7d3cd4ad4af'
'sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20450101-20541231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20450101-20541231.nc' 'SHA256' '9a37eb440230d62249856d40a59e7f15ccb8cd853a7c0be7dec8aea3ba31c9dd'
'tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20850101-20941231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20850101-20941231.nc' 'SHA256' '68784bc2a200155a3d3004bb648d57c4ad3128ef268ada42c3086ba679ccd274'
'hurs_day_CESM2_ssp245_r10i1p1f1_gn_20150101-20241231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp245_r10i1p1f1_gn_20150101-20241231.nc' 'SHA256' 'e3e7ad18b5c976c051e73989f05616e44448b7902604cc18a7697139db5af346'
'sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20650101-20741231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20650101-20741231.nc' 'SHA256' 'f2d47db78e7cd4d10b8017659d523b74de643e7e97b2c5bde75ea3b3cef82629'
'sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20750101-20841231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20750101-20841231.nc' 'SHA256' '85f383a6775e7baa3caea985a022c111690afcc4d81222cc1b0d612ac47a38cf'
'hurs_day_CESM2_ssp245_r10i1p1f1_gn_20250101-20341231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp245_r10i1p1f1_gn_20250101-20341231.nc' 'SHA256' '332436278530495144883c326fab42949cee6bddfd4048e10fe64066adde4006'
'hurs_day_CESM2_ssp245_r10i1p1f1_gn_20750101-20841231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp245_r10i1p1f1_gn_20750101-20841231.nc' 'SHA256' '0213bef8408f811ff68920eb489c58c64385c86d55797989e48c99c40d76fde2'
'sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20150101-20241231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20150101-20241231.nc' 'SHA256' '4a1488659337960b2f1e2d1799ae53b61e8a49ab72c72cba34caeecacadc2fa6'
'sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20450101-20541231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20450101-20541231.nc' 'SHA256' '452c688751604ed58eb0256a2360f21f8d5af681d136a9b03ad30e08b51d6792'
'tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20350101-20441231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20350101-20441231.nc' 'SHA256' 'ac4708489d706ee59c5639f29ea42ff52acd50c59b432142ce4052692fdc845a'
'tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20150101-20241231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20150101-20241231.nc' 'SHA256' '51e5662c3877135b2060d2f040a624d08ce41e407f443cb13d231545e641a53d'
'hurs_day_CESM2_ssp585_r10i1p1f1_gn_20250101-20341231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp585_r10i1p1f1_gn_20250101-20341231.nc' 'SHA256' '08043227c03cf216e41e275dc13cdcc576264014acb69f8f476f7bbec985a8dc'
'hurs_day_CESM2_ssp585_r10i1p1f1_gn_20650101-20741231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp585_r10i1p1f1_gn_20650101-20741231.nc' 'SHA256' '8512f415902b2969b3ff81b0f3d18f243cb1c7467431295b57df10d6372e2424'
'hurs_day_CESM2_ssp585_r10i1p1f1_gn_20750101-20841231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp585_r10i1p1f1_gn_20750101-20841231.nc' 'SHA256' '955c5b819e13c64004c5282bbf6cbc52b18e6d3d0a7ca526fd7b3a7ac22925bd'
'pr_day_CESM2_ssp585_r10i1p1f1_gn_20550101-20641231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp585_r10i1p1f1_gn_20550101-20641231.nc' 'SHA256' '1cf1fab157f703ef6e13c842513fb4b2cb1f4c77c6085567571f8ad4c7381518'
'pr_day_CESM2_ssp585_r10i1p1f1_gn_20850101-20941231.nc' 'http://esgf-data04.diasjp.net/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp585_r10i1p1f1_gn_20850101-20941231.nc' 'SHA256' 'a0c0cdd100b9a881c25826fdd07e57983c5b1873fab192de4052c6c55088edc5'
'tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20950101-21010101.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20950101-21010101.nc' 'SHA256' '5da972f067cc2c7f5adc8ddbe9aeec6c0062e8cb0cbbd862ddf6ef8bf5dd32e8'
'tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20450101-20541231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20450101-20541231.nc' 'SHA256' 'cc7b9c1d9e65e6d5c613055ea8f8abd38bb23c10f38d03ebed0962ddfcd4e680'
'tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20850101-20941231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20850101-20941231.nc' 'SHA256' 'e3ddd683189f5256ebbade1b9125db916c342744df5ccad54b4f3b810eaaf5b7'
'rsds_day_CESM2_ssp585_r10i1p1f1_gn_20150101-20241231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp585_r10i1p1f1_gn_20150101-20241231.nc' 'SHA256' '38b8afe5d965aa0f4c7ae698be8d9a7a279bf52a007fb2388b24165b32429e72'
'tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20750101-20841231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20750101-20841231.nc' 'SHA256' '3a77a6aac1e8c9382a26782be0dfe9806e733d22df6bd25168200612fec4b1f2'
'pr_day_CESM2_ssp245_r10i1p1f1_gn_20150101-20241231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp245_r10i1p1f1_gn_20150101-20241231.nc' 'SHA256' '8565d1449e933eb6140d1803f9f471f7a6db5e66d173b923118d0c2d52cef8ce'
'tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20450101-20541231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20450101-20541231.nc' 'SHA256' 'bc9fe65eab23b4193df0a395d72e5622f83c1875dc60a7a4641acf82ba06b792'
'tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20750101-20841231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20750101-20841231.nc' 'SHA256' 'ca3cdf13aaebe1479dbcc5dbfa7818552e8578039966d6aafc06c10c6497ad8d'
'tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20950101-21010101.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20950101-21010101.nc' 'SHA256' 'b435146c36613fecac16c6ed45555bffa2f25010f24b6464bac349da5d9862a6'
'rsds_day_CESM2_ssp245_r10i1p1f1_gn_20250101-20341231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp245_r10i1p1f1_gn_20250101-20341231.nc' 'SHA256' '9d49532a492c4d4ef1f34afe55136d4f2b49b868889543d8533486f2b563d1c5'
'sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20950101-21010101.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20950101-21010101.nc' 'SHA256' '2533da2abcc13ac7f313eccb71f19f143b5babbb131648e6f8ad4de65079f5dd'
'tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20550101-20641231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20550101-20641231.nc' 'SHA256' '01571f4b551bacd074d0d025ed62c016f9462d3b38252c6f32d318aeb014bb21'
'tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20650101-20741231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20650101-20741231.nc' 'SHA256' 'b825040221aecfc5d28b303b6084404c17b3343e67880f8105b88d8724c02b8f'
'tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20250101-20341231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20250101-20341231.nc' 'SHA256' '17b04297e1cf8db97d17eb9b8ed02384831be23633bffc8b5447033d4f0a21cd'
'tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20450101-20541231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20450101-20541231.nc' 'SHA256' 'e9b2abe9e73c5a3b351e22bd846dab9ad424aca4581f0adb8487f96620eb41fa'
'tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20750101-20841231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20750101-20841231.nc' 'SHA256' '55186bce82b7b59d8f5f989725d10049e2750c9c5b1e4f698cb6631bbf5cc427'
'tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20850101-20941231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20850101-20941231.nc' 'SHA256' 'b2fe6341ea496718ffd0500d51468d8a4b40d634b018e81b13d8fa50d17ff2b7'
'hurs_day_CESM2_ssp245_r10i1p1f1_gn_20550101-20641231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp245_r10i1p1f1_gn_20550101-20641231.nc' 'SHA256' 'b683305da5d6feaa7599e60fa258b9f78aa9ccd2763d1e7d00dbf4357e0acd26'
'hurs_day_CESM2_ssp245_r10i1p1f1_gn_20650101-20741231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp245_r10i1p1f1_gn_20650101-20741231.nc' 'SHA256' '07153c99fa52876fb183e9608c5beb19751d9e79410b76bbfb57b2737073baae'
'pr_day_CESM2_ssp585_r10i1p1f1_gn_20250101-20341231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp585_r10i1p1f1_gn_20250101-20341231.nc' 'SHA256' '313200eb04174d28c5ec47806993dadd0c059f0ba2c23874a2e9c230cb4fc2b9'
'sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20550101-20641231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20550101-20641231.nc' 'SHA256' 'f97b3d8f24035ad3d839c021799d554604e1a9f1577636dfd861d08736b4d2cd'
'sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20750101-20841231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20750101-20841231.nc' 'SHA256' '7770b5fb447ce1969a67265239bcb0e1054cb21059ee13ac8a2594a348aaf6c7'
'tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20550101-20641231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20550101-20641231.nc' 'SHA256' '3591b86b08c71f7c1eb7525f6834fbac724c0f700e30a0d1d300c50200c5a116'
'tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20350101-20441231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20350101-20441231.nc' 'SHA256' 'cce26305cb95f2a455928cf4482d50f5b02c3f4fcc079ec2992c7ca87dc508c1'
'pr_day_CESM2_ssp245_r10i1p1f1_gn_20250101-20341231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp245_r10i1p1f1_gn_20250101-20341231.nc' 'SHA256' '66225127e608cedd79f9e60166328218386f9784cb5ce386051fa3161d6dce61'
'rsds_day_CESM2_ssp245_r10i1p1f1_gn_20650101-20741231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp245_r10i1p1f1_gn_20650101-20741231.nc' 'SHA256' '1468c83bb6c2e41e2f1185763989348119d119a4bc13716eda50853e364ca243'
'tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20850101-20941231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20850101-20941231.nc' 'SHA256' '29408ede252f728cc7c0761c5c97a82cd0c78b307b9cdefeeafdfc0dafcc099a'
'pr_day_CESM2_ssp585_r10i1p1f1_gn_20350101-20441231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp585_r10i1p1f1_gn_20350101-20441231.nc' 'SHA256' 'e91b3a4c28df1d6460e303e60ea8b64add7ba2e8fd332b2f8dcd5a0f708f295e'
'rsds_day_CESM2_ssp585_r10i1p1f1_gn_20450101-20541231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp585_r10i1p1f1_gn_20450101-20541231.nc' 'SHA256' '2abe1caee954a75b8dc0b49952b9c2ec23186418b084fc726d6495fec688ee13'
'sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20650101-20741231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20650101-20741231.nc' 'SHA256' 'cfc9f484bccfdfb9e1ebb5b69697c196094720f0e4ca5a27889b8f2c289490cf'
'rsds_day_CESM2_ssp245_r10i1p1f1_gn_20150101-20241231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp245_r10i1p1f1_gn_20150101-20241231.nc' 'SHA256' 'eff0eae59db54af388c054417e16b1355c5313b593f1bffc6bc7c774a6831c3a'
'rsds_day_CESM2_ssp245_r10i1p1f1_gn_20750101-20841231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp245_r10i1p1f1_gn_20750101-20841231.nc' 'SHA256' 'ac6197d833c0af75481b4abb0b3a96f648f6ab9f7f4277bba2e2185cfd3479f5'
'tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20950101-21010101.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20950101-21010101.nc' 'SHA256' 'd7fc22d0a7ba8ed2f34b539daeb1adb002255f958d6855195e8d16ccca55262e'
'tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20550101-20641231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20550101-20641231.nc' 'SHA256' 'a0ec564ccad0ce7ca5aafd6152338749eb33ea9d6d1b3c41799c66d3a6c6f297'
'hurs_day_CESM2_ssp585_r10i1p1f1_gn_20150101-20241231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp585_r10i1p1f1_gn_20150101-20241231.nc' 'SHA256' '1b71c01764b4b03eac98852221193ef7cb9492a6e4b8bd359083ee9b1906838a'
'pr_day_CESM2_ssp585_r10i1p1f1_gn_20150101-20241231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp585_r10i1p1f1_gn_20150101-20241231.nc' 'SHA256' '7155398db387e6b4ab69aaf0c45e3200d1651cba912e12903803de15e5d6370d'
'pr_day_CESM2_ssp585_r10i1p1f1_gn_20750101-20841231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp585_r10i1p1f1_gn_20750101-20841231.nc' 'SHA256' 'f5bf5da714032da9114c36b892bacfd66499b5bd7b67e61887e1229f5954d4cf'
'rsds_day_CESM2_ssp585_r10i1p1f1_gn_20250101-20341231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp585_r10i1p1f1_gn_20250101-20341231.nc' 'SHA256' 'cad48b6635255ea61dbb67383615d7c20fbb360db4a7df3c550ab7604b1d9a0a'
'sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20150101-20241231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20150101-20241231.nc' 'SHA256' 'c121fd5fcb51e20661dedc1499b50d9d486aec051d3556bf14d188d94b3cdf95'
'tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20350101-20441231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20350101-20441231.nc' 'SHA256' '8a9421027358436aa050501ce3a8e68fc4063efac22a0d14d9f69f1ca0cded50'
'hurs_day_CESM2_ssp245_r10i1p1f1_gn_20350101-20441231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp245_r10i1p1f1_gn_20350101-20441231.nc' 'SHA256' '80c6a46656f2242f1f387baf27d1dd2095b6a31b61bf783958483a8347dd6f3e'
'hurs_day_CESM2_ssp245_r10i1p1f1_gn_20950101-21010101.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp245_r10i1p1f1_gn_20950101-21010101.nc' 'SHA256' 'bce1cfc7ee09a414bb97f8504a338cd3ea61597e64f7b49991f2f5fea142f72c'
'pr_day_CESM2_ssp585_r10i1p1f1_gn_20950101-21010101.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp585_r10i1p1f1_gn_20950101-21010101.nc' 'SHA256' '7193f79d6953e72ae7daf898e237486141fb94c9bf368c339e0bfad6e8983af3'
'tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20250101-20341231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20250101-20341231.nc' 'SHA256' 'f54c044383b025d070e88928e0b76119a605190a4b49a24f1732145a0d4bc0a3'
'hurs_day_CESM2_ssp245_r10i1p1f1_gn_20450101-20541231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp245_r10i1p1f1_gn_20450101-20541231.nc' 'SHA256' '42dc732180ab8311373ce13a9efcf66f5e86b3f78be88bbcbf2346645817e097'
'rsds_day_CESM2_ssp245_r10i1p1f1_gn_20550101-20641231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp245_r10i1p1f1_gn_20550101-20641231.nc' 'SHA256' '8bc70801f05c610cdffd0a04e31f2e3a096a9106b589ae5b1425c91a9be6c8ea'
'sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20250101-20341231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20250101-20341231.nc' 'SHA256' 'd0a55726580ad5018c5e2dd28094d3190b6a90826786cb078d8fdb712fe2fe91'
'tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20250101-20341231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20250101-20341231.nc' 'SHA256' '34ff9c92797d1c90acdf10f5d2217875f5622684c46de01f826ea751bf015a65'
'pr_day_CESM2_ssp245_r10i1p1f1_gn_20650101-20741231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp245_r10i1p1f1_gn_20650101-20741231.nc' 'SHA256' 'cc1bae5bb84a3df251060bbf90f480effb3553b3de0a69fe2740191ee4c168b6'
'rsds_day_CESM2_ssp245_r10i1p1f1_gn_20450101-20541231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp245_r10i1p1f1_gn_20450101-20541231.nc' 'SHA256' '0e3a02419ea240f065eac8db89a79336eb6bb6498b3741be32e7d814c61b0729'
'hurs_day_CESM2_ssp585_r10i1p1f1_gn_20450101-20541231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp585_r10i1p1f1_gn_20450101-20541231.nc' 'SHA256' '8e63af84da5d3fb45e4ae493e49cdb785bf43745a3897bfd8a828ed8a185e931'
'rsds_day_CESM2_ssp585_r10i1p1f1_gn_20850101-20941231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp585_r10i1p1f1_gn_20850101-20941231.nc' 'SHA256' '0a692221688435352452dffe2032bfbb07fbab4e9fee22031c8d79e14f308dd6'
'sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20950101-21010101.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20950101-21010101.nc' 'SHA256' 'f95d4288cf2cba67efd82946c33851816cd58bf763938b6113198225949e5aaa'
'tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20150101-20241231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20150101-20241231.nc' 'SHA256' '99d774da592b8cad0fd0bef5f9b1b132543200515a6924931779310ca48c9b08'
'pr_day_CESM2_ssp245_r10i1p1f1_gn_20450101-20541231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp245_r10i1p1f1_gn_20450101-20541231.nc' 'SHA256' '2536f7fd07756b95e0d862137e676a11127c7ba9f0038d26e79647142c61d77f'
'hurs_day_CESM2_ssp585_r10i1p1f1_gn_20550101-20641231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp585_r10i1p1f1_gn_20550101-20641231.nc' 'SHA256' '181236d45d629e7cb53ec4f9d9bf15aef7be42d1f0bb89c5e2149ca4be6d8331'
'sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20350101-20441231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp585_r10i1p1f1_gn_20350101-20441231.nc' 'SHA256' '0d7d321c2f0dd246e4fd2c67021a0c2be7b8e91f288a2cbd2f37eee643b9b9e6'
'tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20650101-20741231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20650101-20741231.nc' 'SHA256' '9389094cf55296461e520cb22ee9f64be204f67ec9213ce414fb3407e14d77bd'
'tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20750101-20841231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20750101-20841231.nc' 'SHA256' 'fb17f3848ed64fbe296223d31771ef56d46c42130fc34d7b14a51261c3ecdad9'
'tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20150101-20241231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20150101-20241231.nc' 'SHA256' 'cc3ed9b888757d0da4c176adfc0c8419ed690c7c8f083ef4ec4f378b3d325685'
'tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20950101-21010101.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20950101-21010101.nc' 'SHA256' '8055039476eab4b95e493e9f52599a9b4f07f6b880482d28db80f131ac45e2ab'
'pr_day_CESM2_ssp245_r10i1p1f1_gn_20850101-20941231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp245_r10i1p1f1_gn_20850101-20941231.nc' 'SHA256' '3a11be6cb850c5dad6f0595af9385d9e59fdd22e93cead720c3247e26161bb98'
'pr_day_CESM2_ssp245_r10i1p1f1_gn_20750101-20841231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp245_r10i1p1f1_gn_20750101-20841231.nc' 'SHA256' '672acb1829cb58942acc25a5e77ee3b8fbb267683ed7259c108c0b08ac6b10b9'
'sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20350101-20441231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20350101-20441231.nc' 'SHA256' 'f09dcf9e4bd43142f140e43029af83266defe4f2d25b5ee71eec6ce1bfd0ad49'
'hurs_day_CESM2_ssp585_r10i1p1f1_gn_20350101-20441231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp585_r10i1p1f1_gn_20350101-20441231.nc' 'SHA256' 'c89d107f6ef0ca874f7d3f127e63c9d8d2c05e29f144cfdeda2a09bd3a5fd41a'
'pr_day_CESM2_ssp585_r10i1p1f1_gn_20450101-20541231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp585_r10i1p1f1_gn_20450101-20541231.nc' 'SHA256' 'c20d69948516c982874fff2c70cb9c78e93cb296ce310a7b7a459d107e8a79ba'
'pr_day_CESM2_ssp585_r10i1p1f1_gn_20650101-20741231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp585_r10i1p1f1_gn_20650101-20741231.nc' 'SHA256' '300e6d2f4a0d3603ab943b82d6cd9c67d313fbe409403a0eaac2ed5980a7e315'
'rsds_day_CESM2_ssp585_r10i1p1f1_gn_20350101-20441231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp585_r10i1p1f1_gn_20350101-20441231.nc' 'SHA256' '3658ec20642d9947be1052fc8f69b746be0245d925abef16eb574fe13a4dd23b'
'rsds_day_CESM2_ssp585_r10i1p1f1_gn_20950101-21010101.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp585_r10i1p1f1_gn_20950101-21010101.nc' 'SHA256' '470b4618718885e8d5a35a5833914892e50b3aea81cabc3cf5370dc6752eb85a'
'tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20650101-20741231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp585_r10i1p1f1_gn_20650101-20741231.nc' 'SHA256' '910a2516d6c03cd0f3f01da2edc8d0c9dd62619ae79dd0bbb3e19478861b5c7b'
'tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20650101-20741231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20650101-20741231.nc' 'SHA256' 'e6bef117764d03a3eddf6690602abf4b978e700b1df032d83fd7ea6e4b7d91dd'
'pr_day_CESM2_ssp245_r10i1p1f1_gn_20550101-20641231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp245_r10i1p1f1_gn_20550101-20641231.nc' 'SHA256' '1c040b6db2cb910c20a3515e9f8ffc730d43d0522e3c18e0db0bfe0bea9e0439'
'sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20550101-20641231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20550101-20641231.nc' 'SHA256' '8abfc6e7cda48c3d5e7aa2db91bc5a8cd7194228ab9c07a6b6182598faf1bf9f'
'tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20350101-20441231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmin/gn/v20200528/tasmin_day_CESM2_ssp245_r10i1p1f1_gn_20350101-20441231.nc' 'SHA256' '42a84adc92643ab6ee36841e136e732b5e9c7fbbeb9a6712a8f3777a2ca201fb'
'tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20150101-20241231.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp585_r10i1p1f1_gn_20150101-20241231.nc' 'SHA256' '585ebaff224955faf2b82032e4292e8fdfdeef44e20efd97faf745f7bc8e0dcc'
'rsds_day_CESM2_ssp585_r10i1p1f1_gn_20650101-20741231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp585_r10i1p1f1_gn_20650101-20741231.nc' 'SHA256' 'af871ac17b08ab3ac30cfbf689809dab57fc00cbcd879bc6219442d838d82fab'
'pr_day_CESM2_ssp245_r10i1p1f1_gn_20950101-21010101.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/pr/gn/v20200528/pr_day_CESM2_ssp245_r10i1p1f1_gn_20950101-21010101.nc' 'SHA256' '34a229859dd7171ce3f12a4c516184c0b8de3e9c856a456518a1a0632f5381b3'
'tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20250101-20341231.nc' 'https://esgf-node.ornl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/tasmax/gn/v20200528/tasmax_day_CESM2_ssp245_r10i1p1f1_gn_20250101-20341231.nc' 'SHA256' '64edb4fd12a1e9b5235146e9630d15bf39dda764cb9b6421be69da6eb10bdbc7'
'rsds_day_CESM2_ssp245_r10i1p1f1_gn_20950101-21010101.nc' 'https://esgf-data1.llnl.gov/thredds/fileServer/css03_data/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp245_r10i1p1f1_gn_20950101-21010101.nc' 'SHA256' '51d08acde92694dcf5708708f49aa2d84866c077aee792a16f60566a5850a0ab'
'sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20850101-20941231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp245/r10i1p1f1/day/sfcWind/gn/v20200528/sfcWind_day_CESM2_ssp245_r10i1p1f1_gn_20850101-20941231.nc' 'SHA256' 'd4d4c8d345e6fc6602b989c85a70356985177d5ec663b4590e398a49d5a4de8c'
'hurs_day_CESM2_ssp585_r10i1p1f1_gn_20850101-20941231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/hurs/gn/v20200528/hurs_day_CESM2_ssp585_r10i1p1f1_gn_20850101-20941231.nc' 'SHA256' '10fed849869079e2d734971a82b3f1ca80735045d18639cc26cd60a7a17748e5'
'rsds_day_CESM2_ssp585_r10i1p1f1_gn_20750101-20841231.nc' 'http://esgf-data.ucar.edu/thredds/fileServer/esg_dataroot/CMIP6/ScenarioMIP/NCAR/CESM2/ssp585/r10i1p1f1/day/rsds/gn/v20200528/rsds_day_CESM2_ssp585_r10i1p1f1_gn_20750101-20841231.nc' 'SHA256' '92a9e66558fccead44b4264b14039b75b5fa27603205c8c59c836e2cbb62e368'
EOF--dataset.file.url.chksum_type.chksum
)"

check_os() {
    local os_name=$(uname | awk '{print $1}')
    case ${os_name} in
        Linux)
            ((debug)) && echo "Linux operating system detected"
            LINUX=1
            MACOSX=0
            ;;
        Darwin)
            ((debug)) && echo "Mac OS X operating system detected"
            LINUX=0
            MACOSX=1
            ;;
        *)
            echo "Unrecognized OS [${os_name}]"
            return 1
            ;;
    esac
    return 0
}

#taken from http://stackoverflow.com/a/4025065/1182464
vercomp () {
    if [[ $1 == $2 ]]
    then
        return 0
    fi
    local IFS=.
    local i ver1=($1) ver2=($2)
    # fill empty fields in ver1 with zeros
    for ((i=${#ver1[@]}; i<${#ver2[@]}; i++))
    do
        ver1[i]=0
    done
    for ((i=0; i<${#ver1[@]}; i++))
    do
        if [[ -z ${ver2[i]} ]]
        then
            # fill empty fields in ver2 with zeros
            ver2[i]=0
        fi
        if ((10#${ver1[i]} > 10#${ver2[i]}))
        then
            return 1
        fi
        if ((10#${ver1[i]} < 10#${ver2[i]}))
        then
            return 2
        fi
    done
    return 0
}

check_commands() {
    #check wget
    local MIN_WGET_VERSION=1.10
    vercomp $(wget -V | sed -n 's/^.* \([1-9]\.[0-9.]*\) .*$/\1/p') $MIN_WGET_VERSION
    case $? in
        2) #lower
            wget -V
            echo
            echo "** ERROR: wget version is too old. Use version $MIN_WGET_VERSION or greater. **" >&2
            exit 1
    esac
}

usage() {
    echo "Usage: $(basename $0) [flags]"
    echo "Flags is one of:"
    sed -n '/^while getopts/,/^done/  s/^\([^)]*\)[^#]*#\(.*$\)/\1 \2/p' $0
    echo
    echo "This command stores the states of the downloads in .$0.status"
}

#defaults
debug=0
clean_work=1

#parse flags
while getopts 'F:w:iuUnSpdvqh' OPT; do
    case $OPT in
        F) input_file="$OPTARG";;       #<file> : read input from file instead of the embedded one (use - to read from stdin)
        w) output="$OPTARG";;           #<file> : Write embedded files into a file and exit
        i) insecure=1;;                 #       : set insecure mode, i.e. don't check server certificate
        u) update=1;;                   #       : Issue the search again and see if something has changed.
        U) update_files=1;;             #       : Update files from server overwriting local ones (detect with -u)
        n) dry_run=1;;                  #       : Don't download any files, just report.
        S) skip_checksum=1;;            #       : Skip file checksum
        p) clean_work=0;;               #       : preserve data that failed checksum
        d) verbose=1;debug=1;;          #       : display debug information
        v) verbose=1;;                  #       : be more verbose
        q) quiet=1;;                    #       : be less verbose
        h) usage && exit 0;;            #       : displays this help
        \?) echo "Unknown option '$OPTARG'" >&2 && usage && exit 1;;
        \:) echo "Missing parameter for flag '$OPTARG'" >&2 && usage && exit 1;;
    esac
done
shift $(($OPTIND - 1))

#setup input as desired by the user
if [[ "$input_file" ]]; then
    if [[ "$input_file" == '-' ]]; then
        download_files="$(cat)" #read from STDIN
        exec 0</dev/tty #reopen STDIN as cat closed it
    else
        download_files="$(cat $input_file)" #read from file
    fi
fi

#if -w (output) was selected write file and finish:
if [[ "$output" ]]; then
    #check the file
    if [[ -f "$output" ]]; then
        read -p "Overwrite existing file $output? (y/N) " answ
        case $answ in y|Y|yes|Yes);; *) echo "Aborting then..."; exit 0;; esac
    fi
    echo "$download_files">$output
    exit
fi

#assure we have everything we need
check_commands

if ((update)); then
    echo "Checking the server for changes..."
    post_data=$(IFS="&" ; echo "${url_params[*]}")
    new_wget="$(wget --post-data "$post_data" "$search_url" -qO -)"
    compare_cmd="grep -vE '^(# Generated by|# Search URL|search_url=)'"
    if diff -q <(eval $compare_cmd<<<"$new_wget") <(eval $compare_cmd $0) >/dev/null; then
        echo "No changes detected."
    else
        echo "Wget was changed. Dowloading. (old renamed to $0.old.#N)"
        counter=0
        while [[ -f $0.old.$counter ]]; do ((counter++)); done
        mv $0 $0.old.$counter
        echo "$new_wget" > $0
    fi
    exit 0      
fi

check_chksum() {
    local file="$1"
    local chk_type=$2
    local chk_value=$3
    local local_chksum=Unknown

    case $chk_type in
        md5) local_chksum=$(md5sum_ $file | cut -f1 -d" ");;
        sha256) local_chksum=$(sha256sum_ $file|awk '{print $1}'|cut -d ' ' -f1);;
        *) echo "Can't verify checksum." && return 0;;
    esac

    #verify
    ((debug)) && echo "local:$local_chksum vs remote:$chk_value" >&2
    echo $local_chksum
}

#Our own md5sum function call that takes into account machines that don't have md5sum but do have md5 (i.e. mac os x)
md5sum_() {
    hash -r
    if type md5sum >& /dev/null; then
        echo $(md5sum $@)
    else
        echo $(md5 $@ | sed -n 's/MD5[ ]*\(.*\)[^=]*=[ ]*\(.*$\)/\2 \1/p')
    fi
}

#Our own sha256sum function call that takes into account machines that don't have sha256sum but do have sha2 (i.e. mac os x)
sha256sum_() {
    hash -r
    if type sha256sum >& /dev/null; then
        echo $(sha256sum $@)
    elif type shasum >& /dev/null; then
        echo $(shasum -a 256 $@)
    else
        echo $(sha2 -q -256 $@)
    fi
}

get_mod_time_() {
    if ((MACOSX)); then
        #on a mac modtime is stat -f %m <file>
        echo "$(stat -f %m $@)"
    else
        #on linux (cygwin) modtime is stat -c %Y <file>
        echo "$(stat -c %Y $@)"
    fi
    return 0;
}

remove_from_cache() {
    local entry="$1"
    local tmp_file="$(grep -ve "^$entry" "$CACHE_FILE")"
    echo "$tmp_file" > "$CACHE_FILE"
    unset cached
}

download() {
    wget="wget ${insecure:+--no-check-certificate} ${quiet:+-q} ${quiet:--v}"
    
    while read line
    do
        # read csv here document into proper variables
        eval $(awk -F "' '" '{$0=substr($0,2,length($0)-2); $3=tolower($3); print "file=\""$1"\";url=\""$2"\";chksum_type=\""$3"\";chksum=\""$4"\""}' <(echo $line) )

        #Process the file
        echo -n "$file ..."

        #get the cached entry if any.
        cached="$(grep -e "^$file" "$CACHE_FILE")"
        
        #if we have the cache entry but no file, clean it.
        if [[ ! -f $file && "$cached" ]]; then
            #the file was removed, clean the cache
            remove_from_cache "$file"
            unset cached
        fi
        
        #check it wasn't modified
        if [[ -n "$cached" && "$(get_mod_time_ $file)" == $(echo "$cached" | cut -d ' ' -f2) ]]; then
                    if [[ "$chksum" == "$(echo "$cached" | cut -d ' ' -f3)" ]]; then
                echo "Already downloaded and verified"
                continue
            elif ((update_files)); then
                #user want's to overwrite newer files
                rm $file
                remove_from_cache "$file"
                unset cached
            else
                #file on server is different from what we have. 
                echo "WARNING: The remote file was changed (probably a new version is available). Use -U to Update/overwrite"
                continue
            fi
        fi
        unset chksum_err_value chksum_err_count

        while : ; do
            # (if we had the file size, we could check before trying to complete)
            echo "Downloading"
            [[ ! -d "$(dirname "$file")" ]] && mkdir -p "$(dirname "$file")"
            if ((dry_run)); then
                #all important info was already displayed, if in dry_run mode just abort
                #No status will be stored
                break
            else
                $wget -O "$file" $url || { failed=1; break; }  
            fi

            #check if file is there
            if [[ -f $file ]]; then
                ((debug)) && echo file found
                if ((skip_checksum)); then
                    echo "Skipping check of file checksum"
                    break
                fi
                if [[ ! "$chksum" ]]; then
                    echo "Checksum not provided, can't verify file integrity"
                    break
                fi
                result_chksum=$(check_chksum "$file" $chksum_type $chksum)
                if [[ "$result_chksum" != "$chksum" ]]; then
                    echo "  $chksum_type failed!"
                    if ((clean_work)); then
                        if !((chksum_err_count)); then
                                chksum_err_value=$result_chksum
                                chksum_err_count=2
                            elif ((checksum_err_count--)); then
                                if [[ "$result_chksum" != "$chksum_err_value" ]]; then
                                    #this is a real transmission problem
                                    chksum_err_value=$result_chksum
                                    chksum_err_count=2
                                fi
                            else
                                #ok if here we keep getting the same "different" checksum
                                echo "The file returns always a different checksum!"
                                echo "Contact the data owner to verify what is happening."
                                echo
                                sleep 1
                                break
                            fi
                        
                            rm $file
                            #try again
                            echo -n "  re-trying..."
                            continue
                    else
                            echo "  don't use -p or remove manually."
                    fi
                else
                    echo "  $chksum_type ok. done!"
                    echo "$file" $(get_mod_time_ "$file") $chksum >> $CACHE_FILE
                fi
            fi
            #done!
            break
        done
        
        if ((failed)); then
            echo "download failed"
            unset failed
        fi
        
    done <<<"$download_files"

}

dedup_cache_() {
    local file=${1:-${CACHE_FILE}}
    ((debug)) && echo "dedup'ing cache ${file} ..."
    local tmp=$(LC_ALL='C' sort  -r -k1,2 $file | awk '!($1 in a) {a[$1];print $0}' | sort -k2,2)
    ((DEBUG)) && echo "$tmp"
    echo "$tmp" > $file
    ((debug)) && echo "(cache dedup'ed)"
}

#do we have old results? Create the file if not
[ ! -f $CACHE_FILE ] && echo "#filename mtime checksum" > $CACHE_FILE && chmod 666 $CACHE_FILE

#
# MAIN
#

echo "Running $(basename $0) version: $version"
((verbose)) && echo "we use other tools in here, don't try to user their proposed 'options' directly"
echo "Use $(basename $0) -h for help."$'\n'

cat <<'EOF-MESSAGE'
There were files with the same name which were requested to be download to the same directory. To avoid overwriting the previous downloaded one they were skipped.
Please use the parameter 'download_structure' to set up unique directories for them.
Script created for 108 file(s)
(The count won't match if you manually edit this file!)

EOF-MESSAGE
sleep 1

check_os

download

dedup_cache_

echo "done"
